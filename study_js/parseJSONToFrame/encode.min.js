class e{ON(){return"090306005B0103CCCC"}OFF(){return"090306005B0101CCCC"}READ(){return"090305001B00CCCC"}READ_SCHEDULE(){return"0003050C0200CCCC"}DELETE_SCHEDULE(){return"0003080C41000C0200CCCC"}WRITE_SCHEDULE(e){try{if(!e?.length)throw Error("The device's schedules not found !");if(e.length>36)throw Error("The device's schedules invalid !");let r=[],n=0;r[n]="00032C0C41000C4224";let i=1,o=e.length,a=o-6;if(o>0){for(let c of e)i>6?(r[n]+="CCCC",i=1,n++,r[n]=a<=6?"0003"+t(6*a+8)+"0C42"+t(6*a):"0003290C4224",a-=6):o<7&&1==i&&(r[n]="0003"+t(6*o+11)+"0C41000C42"+t(6*o)),r[n]+=C(c),i++;r[n]+="0C0200CCCC"}else r[n]="0003090C41000C42000C0200CCCC";return r}catch(e){throw Error(e.message)}}}const r={RSO36:new e,ESO:new class extends e{constructor(){super()}ON(e){if("number"!=typeof e)throw Error("The data dimming invalid !");return 0===e?"090306005B0101CCCC":`00030A005B0103104701${t(e)}CCCC`}READ(){return"0B0308100900100700CCCC"}}};export function encode(e){if(!r[e.device]||!r[e.device][e.action])throw Error("Your device or action invalid !");return"WRITE_SCHEDULE"===e.action?r[e.device][e.action](e.attributes.schedules):r[e.device][e.action](e.attributes?.dimming)}function t(e,r){var t=Number(e).toString(16);for(r=null==r?2:r;t.length<r;)t="0"+t;return t.toUpperCase()}function C(e){let r="";switch(e.Type){case"Hourly":r+="03";break;case"Daily":r+="04";break;case"Weekly":r+="05"}let C=Object.keys(e).filter((e=>!["Type","Action","Dimming"].includes(e)))[0];r+={Sunday:"00",Monday:"01",Tuesday:"02",Wednesday:"03",Thursday:"04",Friday:"05",Saturday:"06",Everyday:"FF"}[C];let n=e[C].split(":");for(let e of n)r+=t(e,2);if("relay off"===e.Action.toLowerCase())r+="00";else{let C=e.Dimming||0;r+=C?t(4*Math.round(C/5)+1,2):"01"}return r}